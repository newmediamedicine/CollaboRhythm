<?xml version="1.0"?>
<s:Group xmlns:s="spark.components.*"
         xmlns:mx="library://ns.adobe.com/flex/mx"
         xmlns:fx="http://ns.adobe.com/mxml/2009"
        height="100%" width="100%">

	<fx:Script>
		<![CDATA[

        private function initCamera():void {
            var cam:Camera = Camera.getCamera();
            myVid.attachCamera(cam);
        }

        private function takePicture(event:MouseEvent):void {
            var bmd:BitmapData = new BitmapData(myVid.width, myVid.height);
            bmd.draw(myVid);
        }

        ]]>
	</fx:Script>
    <s:Panel width="100%" height="100%" backgroundColor="0xcccccc">
    <s:VGroup>
        <mx:VideoDisplay id="myVid" width="240" height="180"
                         creationComplete="initCamera();"/>
        <s:HGroup>
            <s:Button label="Take Picture" click="takePicture(event)"/>
        </s:HGroup>
        <s:Label text="Enter a caption:"
                 paddingTop="5" fontSize="16"/>
        <s:BorderContainer height="100%" width="100%"
                           cornerRadius="4" borderWeight="2"
                           backgroundAlpha="0">
            <s:RichEditableText id="caption" color="0x000000"
                                width="100%" height="200"
                                backgroundColor="0xffffff"
                                paddingTop="5" fontSize="14"/>
        </s:BorderContainer>
        <s:Image  id="displayImage"/>

    </s:VGroup>
    </s:Panel>
</s:Group>